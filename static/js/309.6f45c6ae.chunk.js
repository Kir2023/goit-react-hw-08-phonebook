"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[309],{6309:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(9439),r=n(1686),o=n.n(r),c=n(2791),s=n(9434),i=n(1437),l=n(6916),u=function(e){return e.contacts.items},m=function(e){return e.contacts.error},f=function(e){return e.filter},d=(0,l.P1)([u,f],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),h={form:"ContactForm_form__dhl+T",formName:"ContactForm_formName__9bHzl",formNumber:"ContactForm_formNumber__UMrmC",formBtn:"ContactForm_formBtn__qZGY3"},p=n(3036),x=n(184),b=function(){return(0,x.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,x.jsx)(p.ko,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},height:"40",width:"100%",borderColor:"#F4442E",barColor:"darkgray",display:"flex",alignItems:"center",ariaLabel:"progress-bar-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})},N=function(){var e=(0,s.v9)(u),t=(0,s.I0)(),n=(0,c.useState)(""),r=(0,a.Z)(n,2),l=r[0],m=r[1],f=(0,c.useState)(""),d=(0,a.Z)(f,2),p=d[0],N=d[1],j=(0,c.useState)(!1),y=(0,a.Z)(j,2),C=y[0],_=y[1],v=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":m(a);break;case"number":N(a);break;default:return}};return(0,x.jsxs)("form",{className:h.form,onSubmit:function(n){var a;n.preventDefault(),a=l,(!e.some((function(e){return e.name.toLowerCase()===a.toLowerCase()}))||(o().Notify.warning("".concat(a," is already in contacts.")),0))&&(_(!0),t((0,i.uK)({name:l,phone:p})).then((function(){_(!1),o().Notify.success("".concat(l," succesfuly added in contacts")),m(""),N("")})).catch((function(e){_(!1),o().Notify.failure("Error adding contact: ".concat(e))})))},children:[(0,x.jsx)("label",{className:h.formLabel,children:"Name "}),(0,x.jsx)("input",{className:h.formName,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Enter name",value:l,onChange:v}),(0,x.jsx)("label",{className:h.formLabel,children:"Number "}),(0,x.jsx)("input",{className:h.formNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter phone number",value:p,onChange:v}),(0,x.jsx)("button",{className:h.formBtn,type:"submit",children:C?(0,x.jsx)(b,{}):"Add contact"})]})},j={contactTxt:"ContactListItem_contactTxt__h77Ti",deleteBtn:"ContactListItem_deleteBtn__roUYm"},y=function(e){var t=e.id,n=e.name,r=e.phone,l=(0,s.I0)(),u=(0,c.useState)(!1),m=(0,a.Z)(u,2),f=m[0],d=m[1];return(0,x.jsxs)("li",{className:j.contactItem,children:[(0,x.jsx)("span",{className:j.contactTxt,children:n})," :"," ",(0,x.jsx)("span",{className:j.contactTxt,children:r}),(0,x.jsx)("button",{onClick:function(){!function(e){d(!0),l((0,i.GK)(e)).then((function(){d(!1),o().Notify.success("".concat(n," succesfuly deleted"))})).catch((function(e){d(!1),o().Notify.failure("Error deleting contact: ".concat(e))}))}(t)},type:"button",className:j.deleteBtn,children:f?(0,x.jsx)(b,{}):"Delete"})]})},C="ContactList_contactList__UFVCg",_=function(){var e=(0,s.v9)(m),t=(0,s.v9)(d);return(0,x.jsx)("div",{children:(0,x.jsx)("ul",{className:C,children:0!==t.length||e?t.map((function(e){var t=e.id,n=e.name,a=e.phone;return(0,x.jsx)(y,{id:t,name:n,phone:a},t)})):(0,x.jsx)("p",{children:"The Phonebook is empty. Add your first contact."})})})},v=n(423),g={filterName:"Filter_filterName__Y2kKA"},w=function(){var e=(0,s.I0)(),t=(0,s.v9)(f);return(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:g.filterLabel,children:"Find contacts by Name "}),(0,x.jsx)("input",{className:g.filterName,type:"text",name:"filter",placeholder:"Enter filter",value:t,onChange:function(t){var n=t.target.value;e((0,v.T)(n.toLowerCase().trim()))}})]})},k=n(6153).Watch,L=function(){return(0,x.jsx)(k,{height:"80",width:"80",radius:"48",color:"#4fa94d",ariaLabel:"watch-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})},F=function(){var e=(0,s.I0)(),t=(0,s.v9)(m),n=(0,c.useState)(!1),r=(0,a.Z)(n,2),l=r[0],u=r[1];return(0,c.useEffect)((function(){u(!0),e((0,i.yF)()).then((function(){u(!1)})).catch((function(e){u(!1),o().Notify.failure("Error: ".concat(e))}))}),[e]),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:20,color:"#010101"},children:[(0,x.jsx)("h1",{children:"Phonebook"}),(0,x.jsx)(N,{}),(0,x.jsx)("h2",{children:" Contacts"}),(0,x.jsx)(w,{}),l&&!t&&(0,x.jsx)(L,{}),(0,x.jsx)(_,{})]})}}}]);
//# sourceMappingURL=309.6f45c6ae.chunk.js.map